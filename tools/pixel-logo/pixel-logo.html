<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pixel Logo Maker - fs-tools</title>
  <link rel="stylesheet" href="pixel-logo.css">
  <link rel="stylesheet" href="../../libs/jquery-ui.min.css">
  <link rel="stylesheet" href="../../libs/logger.css">
  <script src="../../libs/jquery-3.7.1.min.js"></script>
  <script src="../../libs/logger.js"></script>
  <script src="../../libs/tools.js"></script>
</head>
<body>
  <div class="container">
    <header>
      <h1>Pixel Logo Maker</h1>
      <div class="toolbar">
        <div class="tool-group">
          <label for="canvasSize">Canvas Size:</label>
          <select id="canvasSize">
            <option value="16">16Ã—16</option>
            <option value="32" selected>32Ã—32</option>
            <option value="64">64Ã—64</option>
          </select>
        </div>

        <div class="tool-group">
          <label for="colorPicker">Color:</label>
          <input type="color" id="colorPicker" value="#000000">
        </div>

        <div class="tool-group">
          <button id="pencilBtn" class="tool-btn active" title="Pencil">âœï¸</button>
          <button id="eraserBtn" class="tool-btn" title="Eraser">ğŸ§½</button>
          <button id="clearBtn" class="tool-btn" title="Clear Canvas">ğŸ—‘ï¸</button>
        </div>

        <div class="tool-group">
          <button id="importBtn" class="tool-btn" title="Import Image">ğŸ“</button>
          <input type="file" id="imageInput" accept="image/*" style="display: none;">
        </div>
      </div>
    </header>

    <main>
      <div class="workspace">
        <div class="canvas-container">
          <canvas id="pixelCanvas"></canvas>
        </div>

        <div class="preview">
          <h3>Preview</h3>
          <div id="previewArea"></div>
        </div>
      </div>

      <div class="export-section">
        <h3>Export</h3>
        <div class="export-options">
          <button id="exportSvgBtn">Export as SVG</button>
          <button id="exportMarkdownBtn">Export as Markdown</button>
        </div>
        <div class="code-output">
          <textarea id="codeOutput" readonly placeholder="Generated code will appear here..."></textarea>
          <button id="copyBtn">Copy Code</button>
        </div>
      </div>
    </main>
  </div>

  <footer>
    <p>Powered by <strong>fs-tools</strong> and <span id="footer-author"></span></p>
  </footer>

  <script src="pixel-logo.js"></script>

  <script>
    // æ˜¾ç¤ºé¡µè„šä½œè€…ä¿¡æ¯
    $(document).ready(() => {
      fsLogger.debug('jQuery loaded:', typeof $ !== 'undefined');
      fsLogger.debug('fsTools loaded:', typeof fsTools !== 'undefined');
      fsLogger.debug('fsLogger loaded:', typeof fsLogger !== 'undefined');

      // é»˜è®¤ä½œè€…ä¿¡æ¯ï¼ˆé™çº§æ–¹æ¡ˆï¼‰
      const defaultAuthor = 'sunqian, DeepSeek-V3.1';

      // åªè·å–å½“å‰å·¥å…·(pixel-logo)çš„ä½œè€…ä¿¡æ¯ï¼Œæ¯ä¸ªå·¥å…·åªè·å–ä¸€æ¬¡å¹¶ç¼“å­˜
      fsTools.getToolAuthorAsync('pixel-logo', function(authorInfo) {
        fsLogger.debug('Author info received for pixel-logo:', authorInfo);
        // å¤„ç†å¯èƒ½çš„ç©ºä½œè€…ä¿¡æ¯ï¼Œä¸ºç©ºæ—¶ä½¿ç”¨é»˜è®¤ä½œè€…
        const finalAuthor = authorInfo || defaultAuthor;
        fsLogger.debug('Setting author info:', finalAuthor);
        $('#footer-author').text(finalAuthor);
      });
    });
    </script>
</body>
</html>