<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>fs-tools - JavaScript Tools Collection</title>
  <link rel="stylesheet" href="libs/jquery-ui.min.css">
  <link rel="stylesheet" href="libs/logger.css">
  <script src="libs/jquery-3.7.1.min.js"></script>
  <script src="libs/jquery-ui.min.js"></script>
  <script src="libs/logger.js"></script>
  <script src="libs/tools.js"></script>

  <style>
    /* Global Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Helvetica Neue', Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      background-attachment: fixed;
      background-size: cover;
      min-height: 100vh;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    /* Header Styles */
    .header {
      text-align: center;
      color: white;
      margin-bottom: 40px;
    }

    .logo {
      width: 80px;
      height: 80px;
      margin: 0 auto 20px;
    }

    .logo img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
      text-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }

    .subtitle {
      font-size: 1.2rem;
      opacity: 0.9;
      margin-bottom: 20px;
    }

    /* Search Bar Styles */
    .search-container {
      margin: 20px auto;
      max-width: 600px;
      position: relative;
    }

    .search-input {
      width: 100%;
      padding: 12px 40px 12px 20px;
      border: none;
      border-radius: 30px;
      font-size: 1rem;
      outline: none;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      transition: box-shadow 0.3s ease;
    }

    .search-input:focus {
      box-shadow: 0 6px 20px rgba(0,0,0,0.2);
    }

    .search-icon {
      position: absolute;
      right: 15px;
      top: 50%;
      transform: translateY(-50%);
      color: #667eea;
      pointer-events: none;
      font-size: 0.9rem;
      font-weight: 500;
    }

    /* Search Results */
    .no-results {
      text-align: center;
      color: white;
      padding: 40px 20px;
      font-size: 1.1rem;
    }

    .no-results-icon {
      font-size: 1.5rem;
      font-weight: bold;
      margin-bottom: 15px;
      color: #667eea;
    }

    /* Tool Cards Styles */
    .tools-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
      margin-bottom: 40px;
    }

    .tool-card {
      background: white;
      border-radius: 15px;
      padding: 30px;
      box-shadow: 0 8px 30px rgba(0,0,0,0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      text-decoration: none;
      color: inherit;
      position: relative;
      min-height: 350px; /* å›ºå®šæœ€å°é«˜åº¦ */
      display: flex;
      flex-direction: column;
    }

    .tool-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 40px rgba(0,0,0,0.2);
    }

    .tool-icon {
      font-size: 1.5rem;
      font-weight: bold;
      margin-bottom: 15px;
      color: #667eea;
      background: rgba(102, 126, 234, 0.1);
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
    }

    .tool-title {
      font-size: 1.5rem;
      margin-bottom: 10px;
      color: #333;
    }

    .tool-description {
      color: #666;
      margin-bottom: 15px;
    }

    /* Tags Styles */
    .tool-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 15px;
      position: absolute;
      bottom: 60px;
      left: 30px;
      right: 30px;
    }

    .tool-tag {
      display: inline-block;
      background: rgba(102, 126, 234, 0.1);
      color: #667eea;
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 0.8rem;
      font-weight: 500;
      transition: background 0.3s ease, color 0.3s ease;
      cursor: pointer;
    }

    .tool-tag:hover {
      background: rgba(102, 126, 234, 0.2);
      text-decoration: underline;
    }

    .tool-card:hover .tool-tag {
      background: rgba(102, 126, 234, 0.2);
    }

    .tool-card-content {
      margin-bottom: 80px; /* ä¸ºåº•éƒ¨çš„æ ‡ç­¾å’ŒæŒ‰é’®é¢„ç•™ç©ºé—´ */
    }

    .tool-card-footer {
      position: absolute;
      bottom: 30px;
      left: 30px;
    }

    .tool-link {
      display: inline-block;
      background: #667eea;
      color: white;
      padding: 8px 16px;
      border-radius: 20px;
      text-decoration: none;
      font-size: 0.9rem;
      transition: background 0.3s ease;
    }

    .tool-link:hover {
      background: #5a6fd8;
    }

    /* Author Info Styles */
    .author-info {
      text-align: center;
      color: rgba(255,255,255,0.8);
      margin: 20px 0;
      font-size: 0.9rem;
    }

    /* Footer Styles */
    .footer {
      text-align: center;
      color: rgba(255,255,255,0.7);
      padding: 30px 0;
      margin-top: 40px;
      border-top: 1px solid rgba(255,255,255,0.1);
    }

    .footer p {
      margin: 5px 0;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .container {
        padding: 15px;
      }

      h1 {
        font-size: 2rem;
      }

      .tools-grid {
        grid-template-columns: 1fr;
        gap: 20px;
      }

      .tool-card {
        padding: 20px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <div class="logo">
        <img src="assets/logo.svg" alt="fs-tools Logo">
      </div>
      <div style="text-align: center;">
        <h1>fs-tools <span class="version" id="version-info" style="font-size: 0.5em; margin-left: 10px; opacity: 0.8;"></span></h1>
        <p class="subtitle">JavaScript Tools Collection</p>
        <p class="author-info" id="author-info" style="text-align: left; margin-left: 61.8%; margin-top: 10px; font-size: 0.9rem; opacity: 0.9;"></p>
      </div>
      <div class="search-container">
        <input type="text" id="search-input" class="search-input" placeholder="Search tools by ID, name or tags...">
        <span class="search-icon">Search</span>
      </div>
    </header>

    <!-- Tools List -->
    <main>
      <div class="tools-grid">
        <!-- JMH Visualizer Tool -->
        <a href="tools/jmh-visualizer/jmh-visualizer.html" class="tool-card">
          <div class="tool-icon">ğŸ“Š</div>
          <h3 class="tool-title">JMH Benchmark Visualizer</h3>
          <p class="tool-description">Java Microbenchmark Harness performance test results visualization tool with multiple chart types and real-time data display.</p>
          <span class="tool-link">Get Started â†’</span>
        </a>

        <!-- Placeholder Tool 1 -->
        <div class="tool-card">
          <div class="tool-icon">ğŸ”§</div>
          <h3 class="tool-title">Code Formatter</h3>
          <p class="tool-description">Code formatting tool supporting multiple programming languages with unified code style specifications.</p>
          <span class="tool-link" style="background: #ccc; cursor: not-allowed;">In Development</span>
        </div>

        <!-- Placeholder Tool 2 -->
        <div class="tool-card">
          <div class="tool-icon">ğŸ“</div>
          <h3 class="tool-title">Documentation Generator</h3>
          <p class="tool-description">Automated project documentation generator supporting multiple formats and custom templates.</p>
          <span class="tool-link" style="background: #ccc; cursor: not-allowed;">In Development</span>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <p>Powered by fs-tools and <span id="footer-author"></span></p>
    </footer>
  </div>

  <script>
    // Display author information and tools using fs-tools.js
    $(document).ready(() => {
      // Check if fsLogger is loaded
      if (typeof fsLogger !== 'undefined') {
        fsLogger.debug('jQuery loaded:', typeof $ !== 'undefined');
        fsLogger.debug('fsTools loaded:', typeof fsTools !== 'undefined');
        fsLogger.debug('fsLogger loaded:', typeof fsLogger !== 'undefined');
      } else {
        console.log('jQuery loaded:', typeof $ !== 'undefined');
        console.log('fsTools loaded:', typeof fsTools !== 'undefined');
        console.log('fsLogger not loaded, using console.log');
      }

      // é»˜è®¤ä½œè€…ä¿¡æ¯ï¼ˆé™çº§æ–¹æ¡ˆï¼‰
      const defaultAuthor = 'sunqian, DeepSeek-V3.1';

      // å¼‚æ­¥è·å–index.htmlçš„å®Œæ•´ä¿¡æ¯
      fsTools.getToolInfo('index.html', function(toolInfo) {
        if (typeof fsLogger !== 'undefined') {
          fsLogger.debug('Tool info received for index.html:', toolInfo);
        } else {
          console.log('Tool info received for index.html:', toolInfo);
        }

        // å¤„ç†å¯èƒ½çš„ç©ºå·¥å…·ä¿¡æ¯
        if (toolInfo) {
          // æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯
          $('#version-info').text('v' + toolInfo.version);

          // å¤„ç†ä½œè€…ä¿¡æ¯
          const authorInfo = toolInfo.authors ? toolInfo.authors.join(', ') : '';
          const finalAuthor = authorInfo || defaultAuthor;
          $('#author-info').text('Author: ' + finalAuthor);
          $('#footer-author').text(finalAuthor);
        } else {
          // å¦‚æœè·å–ä¸åˆ°å·¥å…·ä¿¡æ¯ï¼Œä½¿ç”¨é»˜è®¤ä½œè€…
          $('#author-info').text('Author: ' + defaultAuthor);
          $('#footer-author').text(defaultAuthor);
        }
      });

      // ä»…åœ¨é¦–é¡µåŠ è½½æ‰€æœ‰å·¥å…·ä¿¡æ¯
      let allTools = [];

      fsTools.loadAllToolsInfo(function(tools) {
        if (typeof fsLogger !== 'undefined') {
          fsLogger.debug('Tools info loaded:', tools);
        } else {
          console.log('Tools info loaded:', tools);
        }

        if (tools && tools.length > 0) {
          // ä¿å­˜æ‰€æœ‰å·¥å…·ä¿¡æ¯
          allTools = tools.filter(tool => tool.id !== 'index.html');

          // æŒ‰å·¥å…·åç§°å­—æ¯é¡ºåºæ’åº
          allTools.sort((a, b) => a.name.localeCompare(b.name));

          // åˆå§‹æ¸²æŸ“æ‰€æœ‰å·¥å…·
          renderTools(allTools);

          // å®ç°æœç´¢åŠŸèƒ½
          $('#search-input').on('input', function() {
            const searchTerm = $(this).val().toLowerCase().trim();
            const filteredTools = filterTools(allTools, searchTerm);
            // æœç´¢ç»“æœä¹ŸæŒ‰åç§°å­—æ¯é¡ºåºæ’åº
            filteredTools.sort((a, b) => a.name.localeCompare(b.name));
            renderTools(filteredTools);
          });
        } else {
          // å¦‚æœæ²¡æœ‰åŠ è½½åˆ°å·¥å…·ä¿¡æ¯ï¼Œä¸åšä»»ä½•æ“ä½œï¼Œä¿æŒé™æ€å†…å®¹
          if (typeof fsLogger !== 'undefined') {
            fsLogger.debug('No tools loaded, keeping static content');
          } else {
            console.log('No tools loaded, keeping static content');
          }
        }
      });

      // è¿‡æ»¤å·¥å…·çš„å‡½æ•°
      function filterTools(tools, searchTerm) {
        if (!searchTerm) {
          return tools; // å¦‚æœæœç´¢è¯ä¸ºç©ºï¼Œè¿”å›æ‰€æœ‰å·¥å…·
        }

        return tools.filter(tool => {
          // æœç´¢id
          const idMatch = tool.id.toLowerCase().includes(searchTerm);
          // æœç´¢åç§°
          const nameMatch = tool.name.toLowerCase().includes(searchTerm);
          // æœç´¢æ ‡ç­¾
          const tagsMatch = tool.tags && Array.isArray(tool.tags) &&
            tool.tags.some(tag => tag.toLowerCase().includes(searchTerm));

          // åªè¦æœ‰ä¸€ä¸ªåŒ¹é…å°±è¿”å›
          return idMatch || nameMatch || tagsMatch;
        });
      }

      // æ¸²æŸ“å·¥å…·åˆ—è¡¨çš„å‡½æ•°
      function renderTools(tools) {
        const toolsGrid = $('.tools-grid');
        toolsGrid.empty(); // æ¸…ç©ºç°æœ‰çš„å·¥å…·å¡ç‰‡

        if (tools.length === 0) {
          // æ˜¾ç¤ºæ²¡æœ‰ç»“æœçš„æç¤º
          const noResults = $('<div>')
            .addClass('no-results')
            .html(`
              <div class="no-results-icon">Search</div>
              <p>No tools found matching your search criteria.</p>
              <p>Try adjusting your search term.</p>
            `);
          toolsGrid.append(noResults);
          return;
        }

        // æ¸²æŸ“è¿‡æ»¤åçš„å·¥å…·åˆ—è¡¨
        tools.forEach(tool => {
          const toolCard = $('<a>')
            .attr('href', `tools/${tool.directory}/${tool.directory}.html`)
            .addClass('tool-card');

          const iconMap = {
            'jmh-visualizer': 'ğŸ“Š',
            'pixel-logo': 'ğŸ¨'
          };

          // ç”Ÿæˆæ ‡ç­¾HTML
          let tagsHtml = '';
          if (tool.tags && Array.isArray(tool.tags) && tool.tags.length > 0) {
            tagsHtml = '<div class="tool-tags">';
            tool.tags.forEach(tag => {
              tagsHtml += `<span class="tool-tag" data-tag="${tag}">${tag}</span>`;
            });
            tagsHtml += '</div>';
          }

          toolCard.html(`
            <div class="tool-card-content">
              <div class="tool-icon">${iconMap[tool.id] || 'ğŸ”§'}</div>
              <h3 class="tool-title">${tool.name}</h3>
              <p class="tool-description">${tool.description}</p>
            </div>
            ${tagsHtml}
            <div class="tool-card-footer">
              <span class="tool-link">Get Started â†’</span>
            </div>
          `);

          toolsGrid.append(toolCard);
        });

        // ä¸ºæ ‡ç­¾æ·»åŠ ç‚¹å‡»äº‹ä»¶
        $('.tool-tag').on('click', function(e) {
          e.preventDefault();
          e.stopPropagation();
          const tag = $(this).data('tag');
          $('#search-input').val(tag).trigger('input');
        });
      }
    });
    </script>
</body>
</html>